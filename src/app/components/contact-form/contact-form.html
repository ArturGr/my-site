<form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
@if (submissionStatus !== 'idle') {
  <div class="feedback-overlay"
       [ngClass]="submissionStatus"
       (click)="closeFeedback()">
    @if (submissionStatus === 'sending') {
      <div class="loader-content" (click)="$event.stopPropagation()">
        <div class="spinner"></div>
        <p>{{translate.sendingStatus}}</p>
      </div>
    }
    @if (submissionStatus === 'success') {
      <div class="status-msg" (click)="$event.stopPropagation()">
        <img src="/assets/img/contact/Box-correct.png" alt="success">
        <p>{{translate.sendingSuccess}}</p>
        <div class="close-icon-div"></div>
      </div>
    }
    @if (submissionStatus === 'error') {
      <div class="status-msg" (click)="$event.stopPropagation()">
        <p class="error-color">{{translate.sendingFailed}}</p>
        <div class="close-icon-div"></div>
      </div>
    }
  </div>
}
  <div class="input-row">
    <div class="input-group" [class.error]="isInvalid('name')" [class.success]="isValid('name')">
      <label for="name">
         @if(!isMobile) {
          @if (isInvalid('name')) {
            <span class="error-text">{{translate.formNameLabelError}}</span>
          } @else {
            {{translate.formNameLabel}}
          }
        }
      </label>
      <div class="input-wrapper">
        <input type="text" id="name" formControlName="name" [placeholder]="isMobile && isInvalid('name') ? translate.formNameLabelError : translate.formNamePlaceholder">
        @if (isValid('name') && !isMobile) {
          <img src="/assets/img/contact/Box-correct.png" class="status-icon" alt="valid">
        }
      </div>
    </div>
    <div class="input-group" [class.error]="isInvalid('email')" [class.success]="isValid('email')">
      <label for="email">
        @if(!isMobile) {
          @if (isInvalid('email')) {
            <span class="error-text">{{translate.formEmailLabelError}}</span>
          } @else {
            {{translate.formEmailLabel}}
          }
        }
      </label>
      <div class="input-wrapper">
        <input type="email" id="email" formControlName="email" [placeholder]="isMobile && isInvalid('email') ? translate.formEmailLabelError : translate.formEmailPlaceholder">
        @if (isValid('email') && !isMobile) {
          <img src="/assets/img/contact/Box-correct.png" class="status-icon" alt="valid">
        }
      </div>
    </div>
  </div>
  <div class="input-group full-width" [class.error]="isInvalid('message')" [class.success]="isValid('message')">
    <label for="message">
      @if (!isMobile) {
        @if (isInvalid('message')) {
          <span class="error-text">{{translate.formMessageLabelError}}</span>
        } @else {
          {{translate.formMessageLabel}}
        }
      }
    </label>
    <div class="input-wrapper">
      <textarea id="message" formControlName="message" [placeholder]="isMobile && isInvalid('message') ? translate.formMessageLabelError : translate.formMessagePlaceholder"
      ></textarea>
      @if (isValid('message') && !isMobile) {
        <img src="/assets/img/contact/Box-correct.png" class="status-icon" alt="valid">
      }
    </div>
  </div>
  <div class="privacy-section" [class.error]="isInvalid('privacy')">
    <label class="checkbox-container">
      <input type="checkbox" formControlName="privacy">
      <span class="custom-checkbox"></span>
      <div class="privacy-text">
        <p>
          {{translate.privacyPolicyLang.partA}}
          <a [routerLink]="['/privacy-policy']" target="_self">{{translate.privacyPolicyLang.link}}</a>
          {{translate.privacyPolicyLang.partB}}
        </p>
        @if (isInvalid('privacy')) {
          <span class="error-message">{{translate.privacyPolicyLangError}}</span>
        }
      </div>
    </label>
  </div>
  <div class="submit-area">
    <button type="submit" [disabled]="!contactForm.valid || submissionStatus === 'sending'">
      {{translate.btn}}
    </button>
  </div>
</form>
